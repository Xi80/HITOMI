#ifndef H_VAL
#define H_VAL
//発音状況管理のための構造体
struct _PSG{
    bool    used[3]     = {false,false,false};
    int     ch[3]       = {0,0,0};
    int     note[3]     = {0,0,0};
    int     vol[3]      = {0,0,0};
};

struct _FM{
    bool    used[9]     = {false,false,false,false,false,false,false,false,false};
    int     ch[9]       = {0,0,0,0,0,0,0,0,0};
    int     note[9]     = {0,0,0,0,0,0,0,0,0};
    int     vol[9]      = {0,0,0,0,0,0,0,0,0};
    int     inst[9]     = {0,0,0,0,0,0,0,0,0};
};

struct _MIDI{
    int     exp[16]     ={0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};
    int     inst[16]    ={0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};
};

//以下、定数テーブル(周波数,F-Number,オクターブ,音色)
const int freqs[128]    = {
    8,9,9,10,10,11,12,12,
    13,14,15,15,16,17,18,
    19,21,22,23,24,26,28,
    29,31,33,35,37,39,41,
    44,46,49,52,55,58,62,
    65,69,73,78,82,87,92,
    98,104,110,117,123,131,139,147,
    156,165,175,185,196,208,220,233,
    247,262,277,294,311,330,349,370,
    392,415,440,466,494,523,554,587,
    622,659,698,740,784,831,880,932,
    988,1047,1109,1175,1245,1319,1397,1480,
    1568,1661,1760,1865,1976,2093,2217,2349,
    2489,2637,2794,2960,3136,3322,3520,3729,
    3951,4186,4435,4699,4978,5274,5588,5920,
    6272,6645,7040,7459,7902,8372,8870,9397,
    9956,10548,11175,11840,12544
};


const int f_numbers[128] = {
    172,181,192,204,216,229,242,257,
    272,288,305,323,172,181,192,204,
    216,229,242,257,272,288,305,323,
    172,181,192,204,216,229,242,257,
    272,288,305,323,172,181,192,204,
    216,229,242,257,272,288,305,323,
    172,181,192,204,216,229,242,257,
    272,288,305,323,172,181,192,204,
    216,229,242,257,272,288,305,323,
    172,181,192,204,216,229,242,257,
    272,288,305,323,172,181,192,204,
    216,229,242,257,272,288,305,323,
    172,181,192,204,216,229,242,257,
    272,288,305,323,172,181,192,204,
    216,229,242,257,272,288,305,323,
    172,181,192,204,216,229,242,257
};

const int octs[128] = {
    -1,-1,-1,-1,-1,-1,-1,-1,
    -1,-1,-1,-1,0,0,0,0,
    0,0,0,0,0,0,0,0,
    1,1,1,1,1,1,1,1,
    1,1,1,1,2,2,2,2,
    2,2,2,2,2,2,2,2,
    3,3,3,3,3,3,3,3,
    3,3,3,3,4,4,4,4,
    4,4,4,4,4,4,4,4,
    5,5,5,5,5,5,5,5,
    5,5,5,5,6,6,6,6,
    6,6,6,6,6,6,6,6,
    7,7,7,7,7,7,7,7,
    7,7,7,7,8,8,8,8,
    8,8,8,8,8,8,8,8,
    9,9,9,9,9,9,9,9
};

const int insts[128] = {
    0x03,0x03,0x03,0x03,0x03,0x03,0x0B,0x03,
    0x03,0x03,0x03,0x0C,0x03,0x03,0x03,0x03,
    0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,
    0x02,0x02,0x02,0x02,0x02,0x02,0x02,0x02,
    0x0D,0x0D,0x0D,0x0D,0x0D,0x0D,0x0D,0x0D,
    0x01,0x01,0x01,0x0E,0x03,0x03,0x03,0x03,
    0x03,0x03,0x03,0x03,0x03,0x03,0x03,0x03,
    0x07,0x07,0x03,0x03,0x09,0x03,0x03,0x03,
    0x03,0x03,0x03,0x03,0x06,0x03,0x03,0x05,
    0x05,0x05,0x05,0x03,0x03,0x03,0x03,0x03,
    0x03,0x03,0x03,0x03,0x03,0x03,0x03,0x03,
    0x03,0x03,0x0A,0x03,0x03,0x03,0x03,0x03,
    0x03,0x03,0x03,0x03,0x03,0x03,0x03,0x03,
    0x03,0x03,0x03,0x03,0x03,0x03,0x03,0x03,
    0x03,0x03,0x03,0x03,0x03,0x03,0x03,0x03,
    0x03,0x03,0x03,0x03,0x03,0x03,0x03,0x03
};

#endif
